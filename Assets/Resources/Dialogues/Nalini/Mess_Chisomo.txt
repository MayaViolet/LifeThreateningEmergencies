define chisomo = Character('Chisomo')
define enok = Character('Enok')
define nalini = Character('Nalini')

label start:
  if visited_farm_once:
    jump visited_farm_once
  endif
  
  nalini "So…"
  chisomo "Worried about Enok?"
  nalini "I’m just stalling. I’m sorry, I’ll go now."
  chisomo "Just ignore him, you’ll be fine."
  nalini "You’re right. I’ll be right back."
  
label visited_farm_once:
  if visited_farm_twice:
    jump visited_farm_twice
  endif
  
  "..."
  
label visited_farm_twice:
  if talked_shower:
    jump talked_shower
  endif
  
  $ talked_shower = True
  
  if not ripened_onions:
    jump not_ripened_onions
  endif
  
  chisomo "Excellent. This should turn out great."
  jump shower_talk
  
label not_ripened_onions:
  if the_return_of_the_onion:
    jump whatever_onion_girl
  endif
  
  chisomo "Oh, you forgot to ripen them."
  
  menu:
    "I'm sorry. I got distracted.":
      jump distracted
		
    "I'm not going back again.":
      jump truth

label distracted:
  chisomo "I don't suppose I can convince you to go back?"
  menu:
    "…Fine.":
      jump return_of_the_onion

    "No way.":
      jump truth
      
label return_of_the_onion:
  $ the_onion_returned = True
  chisomo "Great. Use the machine in the corner of the farm."
   
label truth:
  chisomo "Fair enough. I'll make do."
  jump shower_talk
  
label whatever_onion_girl:
  chisomo "Still didn't manage it? Whatever. We'll make do with these."
  jump shower_talk
  
label shower_talk:
  nalini "Do you need anything else?"
  chisomo "Nah, I've got everything I need."
  nalini "I should probably shower after digging up all those vegetables."
  chisomo "Oh yeah that reminds me."
  chisomo "There's no hot water."
  nalini "The station is just having one of those days, huh?"
  chisomo "Maybe you can get it sorted?"
  nalini "I doubt it's high on anyone's agenda, but we'll see."
  chisomo "Alright, well, good luck."
  
label talked_shower:
  if spoke_to_jordyn:
    jump spoke_to_jordyn
  endif
  
  "He doesn't look too interested in talking much more."
  
label spoke_to_jordyn:
  if mentioned_kettle:
    jump mentioned_kettle
  endif
  
  $ mentioned_kettle = True
  
  chisomo "Fixed that hot water yet?"
  enok "Nope."
  chisomo "I think we've got a kettle around here somewhere."
  enok "I'm not that desperate."
  chisomo "Suit yourself."

label mentioned_kettle:
  if spanner_quest:
    jump spanner_quest
  endif
  
  "..."
  
label spanner_quest:
  if asked_chisomo_re_spanner:
    jump asked_chisomo_re_spanner
  endif
  $ asked_chisomo_re_spanner = True
  chisomo "Spanner? Don't ask me!"
  
label asked_chisomo_re_spanner:
  if asked_chisomo_again:
    jump asked_chisomo_again
  endif
  $ asked_chisomo_again = True
  chisomo "You again!? Have you even checked the kitchen cupboard?"
  
label asked_chisomo_again:
  "..."